{"version":3,"sources":["../moh.js/deleteAttCat.js"],"names":["reloadAttr","$","ajax","url","type","done","response","success","console","log","attributes","container","i","length","attribute","append","value","text","selectpicker","fail","xhr","status","error","showModalAlert","responseJSON","message","reloadCate","categories","category","showErrorAlert","document","ready","submit","e","preventDefault","hideAlert","hideErrorAlert","contentType","data","JSON","stringify","val","showAlert","html","msg","fadeIn","fadeOut"],"mappings":"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","sourcesContent":["\r\nfunction reloadAttr() {\r\n\r\n    $.ajax({\r\n        url: '/api/attributes',\r\n        type: 'GET',\r\n    }).done(function (response) {\r\n        if(response.success) {\r\n            console.log(response);\r\n            var attributes = response.attributes;\r\n            var container = $('#AttDropDown');\r\n            for (var i = 0; i < attributes.length; i++) {\r\n                var attribute = attributes[i].attribute;\r\n                container.append($('<option>', {\r\n                    value: attribute,\r\n                    text: attribute\r\n                }));\r\n            }\r\n            container.selectpicker('refresh');\r\n        }\r\n    }).fail(function(xhr, status, error) {\r\n        console.log('fail');\r\n        showModalAlert(xhr.responseJSON.message);\r\n    });\r\n}\r\n\r\nfunction reloadCate() {\r\n    $.ajax({\r\n        url: '/api/categories',\r\n        type: 'GET',\r\n    }).done(function (response) {\r\n        if(response.success) {\r\n            console.log(response);\r\n            var categories = response.categories;\r\n            var container = $('#CatDropDown');\r\n            for (var i = 0; i < categories.length; i++) {\r\n                var category = categories[i].category;\r\n                container.append($('<option>', {\r\n                    value: category,\r\n                    text: category\r\n                }));\r\n            }\r\n            container.selectpicker('refresh');\r\n        }\r\n    }).fail(function(xhr, status, error) {\r\n        console.log('fail');\r\n        showErrorAlert(xhr.responseJSON.message);\r\n    });\r\n}\r\n\r\n\r\n$(document).ready(function () {\r\n    reloadAttr();\r\n    reloadCate();\r\n});\r\n\r\n\r\n\r\n\r\n$(\"#categoryForm\").submit(function(e) {\r\n    e.preventDefault();\r\n    hideAlert();\r\n    hideErrorAlert();\r\n    $.ajax({\r\n        url: '/api/delete-cat',\r\n        type: 'DELETE',\r\n        contentType: 'application/json',\r\n        data: JSON.stringify({data: $('#CatDropDown').val()}),\r\n    }).done(function (response) {\r\n        if(response.success) {\r\n            console.log(response);\r\n            showAlert(response.message);\r\n            $('#CatDropDown').html('');\r\n            reloadCate();\r\n\r\n        }\r\n        if (!response.success) {\r\n            console.log(response);\r\n            showErrorAlert(response.message);\r\n        }\r\n    }).fail(function(xhr, status, error) {\r\n        console.log('fail');\r\n        showErrorAlert(xhr.responseJSON.message);\r\n    });\r\n});\r\n\r\n$(\"#attributeForm\").submit(function(e) {\r\n    var attribute = $('#AttDropDown').val();\r\n    e.preventDefault();\r\n    hideAlert();\r\n    hideErrorAlert();\r\n    $.ajax({\r\n        url: '/api/delete-att',\r\n        type: 'DELETE',\r\n        contentType: 'application/json',\r\n        data: JSON.stringify({data: $('#AttDropDown').val()}),\r\n    }).done(function (response) {\r\n        if(response.success) {\r\n            console.log(response);\r\n            showAlert(response.message);\r\n            $('#AttDropDown').html('');\r\n            reloadAttr();\r\n\r\n        }\r\n        if (!response.success) {\r\n            console.log(response);\r\n            showErrorAlert(response.message);\r\n        }\r\n    }).fail(function(xhr, status, error) {\r\n        console.log('fail');\r\n        showErrorAlert(xhr.responseJSON.message);\r\n    });\r\n});\r\n\r\nfunction showErrorAlert(msg) {\r\n    $('#alert-error-text').html(msg);\r\n    $('#alert-error').fadeIn();\r\n}\r\n\r\nfunction showAlert(msg) {\r\n    $('#alert-text').html(msg);\r\n    $('#alert').fadeIn();\r\n}\r\n\r\nfunction hideErrorAlert() {\r\n    $('#alert-error').fadeOut();\r\n}\r\n\r\nfunction hideAlert() {\r\n    $('#alert').fadeOut();\r\n}"],"file":"deleteAttCat.js"}